<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Login | {{ site_settings.site_name }}</title>
    <meta name="robots" content="noindex, nofollow" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        background: #000;
        color: #fff;
        overflow: hidden;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      /* Animated Background */
      .background {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
        overflow: hidden;
      }

      .bg-gradient {
        position: absolute;
        border-radius: 50%;
        filter: blur(100px);
        opacity: 0.3;
        animation: float 20s ease-in-out infinite;
      }

      .bg-gradient-1 {
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, #0099ff 0%, transparent 70%);
        top: -10%;
        left: -10%;
        animation-delay: 0s;
      }

      .bg-gradient-2 {
        width: 400px;
        height: 400px;
        background: radial-gradient(circle, #0561e2 0%, transparent 70%);
        bottom: -10%;
        right: -10%;
        animation-delay: 5s;
      }

      .bg-gradient-3 {
        width: 300px;
        height: 300px;
        background: radial-gradient(circle, #60efff 0%, transparent 70%);
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation-delay: 10s;
      }

      @keyframes float {
        0%,
        100% {
          transform: translate(0, 0) scale(1);
        }
        25% {
          transform: translate(50px, 50px) scale(1.1);
        }
        50% {
          transform: translate(-30px, 80px) scale(0.9);
        }
        75% {
          transform: translate(70px, -40px) scale(1.05);
        }
      }

      /* Grid Pattern */
      .grid-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(
            rgba(0, 153, 255, 0.03) 1px,
            transparent 1px
          ),
          linear-gradient(90deg, rgba(0, 153, 255, 0.03) 1px, transparent 1px);
        background-size: 50px 50px;
        animation: gridMove 20s linear infinite;
      }

      @keyframes gridMove {
        0% {
          transform: translate(0, 0);
        }
        100% {
          transform: translate(50px, 50px);
        }
      }

      /* Login Container */
      .login-container {
        position: relative;
        z-index: 1;
        width: 90%;
        max-width: 480px;
        animation: slideUp 0.8s ease-out;
      }

      @keyframes slideUp {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      /* Logo Section */
      .login-header {
        text-align: center;
        margin-bottom: 3rem;
      }

      .logo-container {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #0099ff, #0561e2);
        border-radius: 20px;
        margin-bottom: 1.5rem;
        position: relative;
        box-shadow: 0 20px 60px rgba(0, 153, 255, 0.4);
        animation: pulse 2s ease-in-out infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          box-shadow: 0 20px 60px rgba(0, 153, 255, 0.4);
        }
        50% {
          box-shadow: 0 20px 80px rgba(0, 153, 255, 0.6);
        }
      }

      .logo-container::before {
        content: "";
        position: absolute;
        top: -5px;
        left: -5px;
        right: -5px;
        bottom: -5px;
        background: linear-gradient(135deg, #0099ff, #60efff);
        border-radius: 22px;
        opacity: 0.3;
        filter: blur(20px);
        z-index: -1;
      }

      .logo-container svg {
        width: 40px;
        height: 40px;
        color: #fff;
      }

      .login-header h1 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        background: linear-gradient(135deg, #0099ff 0%, #60efff 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .login-header p {
        color: #b1b0b6;
        font-size: 0.95rem;
      }

      /* Login Card */
      .login-card {
        background: linear-gradient(
          158deg,
          rgba(42, 43, 46, 0.95) 27%,
          rgba(27, 28, 31, 0.95) 119%
        );
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 24px;
        padding: 3rem;
        box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
      }

      /* Flash Messages */
      .flash-message {
        padding: 1rem 1.25rem;
        border-radius: 12px;
        margin-bottom: 1.5rem;
        font-size: 0.9rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        animation: slideIn 0.3s ease-out;
      }

      @keyframes slideIn {
        from {
          opacity: 0;
          transform: translateX(-20px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      .flash-error {
        background: rgba(239, 68, 68, 0.15);
        border: 1px solid rgba(239, 68, 68, 0.3);
        color: #fca5a5;
      }

      .flash-success {
        background: rgba(34, 197, 94, 0.15);
        border: 1px solid rgba(34, 197, 94, 0.3);
        color: #86efac;
      }

      /* Form Elements */
      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-group label {
        display: block;
        color: #e5e5e5;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 0.75rem;
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .form-group label svg {
        width: 18px;
        height: 18px;
        opacity: 0.7;
      }

      .input-wrapper {
        position: relative;
      }

      .form-group input {
        width: 100%;
        padding: 1rem 1rem 1rem 3rem;
        background: rgba(255, 255, 255, 0.05);
        border: 1.5px solid rgba(255, 255, 255, 0.1);
        border-radius: 12px;
        color: #fff;
        font-size: 0.95rem;
        font-family: inherit;
        transition: all 0.3s ease;
      }

      .input-icon {
        position: absolute;
        left: 1rem;
        top: 50%;
        transform: translateY(-50%);
        color: #b1b0b6;
        width: 20px;
        height: 20px;
        pointer-events: none;
        transition: all 0.3s ease;
      }

      .form-group input:focus {
        outline: none;
        border-color: #0099ff;
        background: rgba(0, 153, 255, 0.08);
        box-shadow: 0 0 0 4px rgba(0, 153, 255, 0.1);
      }

      .form-group input:focus + .input-icon {
        color: #0099ff;
      }

      .form-group input::placeholder {
        color: #6b7280;
      }

      /* Password Toggle */
      .password-toggle {
        position: absolute;
        right: 1rem;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: #b1b0b6;
        cursor: pointer;
        padding: 0.25rem;
        transition: all 0.3s ease;
      }

      .password-toggle:hover {
        color: #0099ff;
      }

      .password-toggle svg {
        width: 20px;
        height: 20px;
      }

      /* Remember Me */
      .form-options {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 2rem;
      }

      .checkbox-wrapper {
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .checkbox-wrapper input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
        accent-color: #0099ff;
      }

      .checkbox-wrapper label {
        color: #b1b0b6;
        font-size: 0.9rem;
        cursor: pointer;
        margin: 0;
      }

      .forgot-password {
        color: #0099ff;
        text-decoration: none;
        font-size: 0.9rem;
        transition: all 0.3s ease;
      }

      .forgot-password:hover {
        color: #60efff;
        text-decoration: underline;
      }

      /* Submit Button */
      .submit-btn {
        width: 100%;
        padding: 1.25rem;
        background: linear-gradient(135deg, #0099ff, #0561e2);
        color: #fff;
        border: none;
        border-radius: 12px;
        font-size: 1.05rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 10px 30px rgba(0, 153, 255, 0.3);
        position: relative;
        overflow: hidden;
      }

      .submit-btn::before {
        content: "";
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
      }

      .submit-btn:hover::before {
        width: 300px;
        height: 300px;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 40px rgba(0, 153, 255, 0.4);
      }

      .submit-btn:active {
        transform: translateY(0);
      }

      .submit-btn span {
        position: relative;
        z-index: 1;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }

      /* Footer */
      .login-footer {
        text-align: center;
        margin-top: 2rem;
        padding-top: 2rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }

      .login-footer p {
        color: #777e90;
        font-size: 0.85rem;
      }

      .back-to-site {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: #0099ff;
        text-decoration: none;
        font-size: 0.9rem;
        margin-top: 1rem;
        transition: all 0.3s ease;
      }

      .back-to-site:hover {
        color: #60efff;
        gap: 0.75rem;
      }

      /* Loading State */
      .submit-btn.loading {
        pointer-events: none;
        opacity: 0.7;
      }

      .submit-btn.loading::after {
        content: "";
        position: absolute;
        width: 20px;
        height: 20px;
        top: 50%;
        left: 50%;
        margin-left: -10px;
        margin-top: -10px;
        border: 2px solid #fff;
        border-radius: 50%;
        border-top-color: transparent;
        animation: spin 0.6s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Responsive */
      @media (max-width: 768px) {
        .login-container {
          width: 95%;
        }

        .login-card {
          padding: 2rem 1.5rem;
        }

        .login-header h1 {
          font-size: 1.75rem;
        }

        .form-options {
          flex-direction: column;
          gap: 1rem;
          align-items: flex-start;
        }
      }

      /* Accessibility */
      :focus-visible {
        outline: 2px solid #0099ff;
        outline-offset: 2px;
      }

      ::selection {
        background: #0099ff;
        color: white;
      }
    </style>
  </head>
  <body>
    <!-- Animated Background -->
    <div class="background">
      <div class="grid-pattern"></div>
      <div class="bg-gradient bg-gradient-1"></div>
      <div class="bg-gradient bg-gradient-2"></div>
      <div class="bg-gradient bg-gradient-3"></div>
    </div>

    <!-- Login Container -->
    <div class="login-container">
      <div class="login-header">
        <div class="logo-container">
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
            <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
          </svg>
        </div>
        <h1>{{ site_settings.site_name }} Admin</h1>
        <p>Sign in to manage your website</p>
      </div>

      <div class="login-card">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %} {% if
        messages %} {% for category, message in messages %}
        <div class="flash-message flash-{{ category }}">
          {% if category == 'error' %}
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            width="20"
            height="20"
          >
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="8" x2="12" y2="12"></line>
            <line x1="12" y1="16" x2="12.01" y2="16"></line>
          </svg>
          {% else %}
          <svg
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            width="20"
            height="20"
          >
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
          {% endif %} {{ message }}
        </div>
        {% endfor %} {% endif %} {% endwith %}

        <!-- Login Form -->
        <form
          method="POST"
          action="{{ url_for('admin_login') }}"
          id="loginForm"
        >
          <div class="form-group">
            <label>
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
              Username
            </label>
            <div class="input-wrapper">
              <input
                type="text"
                name="username"
                placeholder="Enter your username"
                required
                autofocus
                autocomplete="username"
              />
              <svg
                class="input-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                <circle cx="12" cy="7" r="4"></circle>
              </svg>
            </div>
          </div>

          <div class="form-group">
            <label>
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
              Password
            </label>
            <div class="input-wrapper">
              <input
                type="password"
                name="password"
                id="password"
                placeholder="Enter your password"
                required
                autocomplete="current-password"
              />
              <svg
                class="input-icon"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
              </svg>
              <button
                type="button"
                class="password-toggle"
                onclick="togglePassword()"
              >
                <svg
                  id="eyeIcon"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </button>
            </div>
          </div>

          <div class="form-options">
            <div class="checkbox-wrapper">
              <input type="checkbox" id="remember" name="remember" />
              <label for="remember">Remember me</label>
            </div>
            <a href="#" class="forgot-password">Forgot password?</a>
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">
            <span>
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                width="20"
                height="20"
              >
                <path
                  d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M13.8 12H3"
                ></path>
              </svg>
              Sign In
            </span>
          </button>
        </form>

        <div class="login-footer">
          <p>
            Â© {{ current_year }} {{ site_settings.site_name }}. All rights
            reserved.
          </p>
          <a href="{{ url_for('index') }}" class="back-to-site">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              width="16"
              height="16"
            >
              <line x1="19" y1="12" x2="5" y2="12"></line>
              <polyline points="12 19 5 12 12 5"></polyline>
            </svg>
            Back to website
          </a>
        </div>
      </div>
    </div>

    <script>
      // Password Toggle
      function togglePassword() {
        const passwordInput = document.getElementById("password");
        const eyeIcon = document.getElementById("eyeIcon");

        if (passwordInput.type === "password") {
          passwordInput.type = "text";
          eyeIcon.innerHTML = `
                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                    <line x1="1" y1="1" x2="23" y2="23"></line>
                `;
        } else {
          passwordInput.type = "password";
          eyeIcon.innerHTML = `
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                `;
        }
      }

      // Form Submission Loading State
      document
        .getElementById("loginForm")
        .addEventListener("submit", function () {
          const submitBtn = document.getElementById("submitBtn");
          submitBtn.classList.add("loading");
          submitBtn.querySelector("span").style.opacity = "0";
        });

      // Enter key on remember checkbox
      document
        .getElementById("remember")
        .addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            this.checked = !this.checked;
          }
        });

      // Auto-hide flash messages after 5 seconds
      setTimeout(() => {
        const flashMessages = document.querySelectorAll(".flash-message");
        flashMessages.forEach((msg) => {
          msg.style.animation = "slideOut 0.3s ease-out forwards";
        });
      }, 5000);

      // Add slideOut animation
      const style = document.createElement("style");
      style.textContent = `
            @keyframes slideOut {
                to {
                    opacity: 0;
                    transform: translateX(-20px);
                }
            }
        `;
      document.head.appendChild(style);

      // Prevent double submission
      let isSubmitting = false;
      document
        .getElementById("loginForm")
        .addEventListener("submit", function (e) {
          if (isSubmitting) {
            e.preventDefault();
            return false;
          }
          isSubmitting = true;
        });
    </script>
  </body>
</html>
