<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Admin Panel{% endblock %} | SHARMIC</title>
    <meta name="robots" content="noindex, nofollow" />
    <style>
        * {
                      margin: 0;
                      padding: 0;
                      box-sizing: border-box;
      }

      body {
                      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
                      background: #0a0a0b;
                      color: #fff;
                      overflow-x: hidden;
      }
      body {
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
          -webkit-touch-callout: none;
      }

      ::selection {
          background: rgba(0, 153, 255, 0.35);
          color: #ffffff;
          text-shadow: none;
      }

      ::-moz-selection {
          background: rgba(0, 153, 255, 0.35);
          color: #ffffff;
          text-shadow: none;
      }

      input,
      textarea,
      select,
      [contenteditable="true"],
      .selectable {
          user-select: text !important;
          -webkit-user-select: text !important;
          -moz-user-select: text !important;
          -ms-user-select: text !important;
      }

      input::selection,
      textarea::selection,
      select::selection {
          background: rgba(0, 153, 255, 0.4);
          color: #ffffff;
      }

      input::-moz-selection,
      textarea::-moz-selection,
      select::-moz-selection {
          background: rgba(0, 153, 255, 0.4);
          color: #ffffff;
      }

      img,
      a {
          -webkit-user-drag: none;
          -khtml-user-drag: none;
          -moz-user-drag: none;
          -o-user-drag: none;
          user-drag: none;
      }

      button,
      .btn,
      .nav-link,
      .action-card {
          user-select: none;
          -webkit-user-select: none;
          -moz-user-select: none;
          -ms-user-select: none;
      }

      .no-copy {
          user-select: none !important;
          -webkit-user-select: none !important;
          -moz-user-select: none !important;
          -ms-user-select: none !important;
      }
                  .sidebar {
                      position: fixed;
                      left: 0;
                      top: 0;
                      width: 280px;
                      height: 100vh;
                      background: linear-gradient(180deg, #1a1b1e 0%, #121316 100%);
                      border-right: 1px solid rgba(255, 255, 255, 0.08);
                      z-index: 1000;
                      transition: transform 0.3s ease;
                      overflow-y: auto;
                  }

                  .sidebar::-webkit-scrollbar {
                      width: 6px;
                  }

                  .sidebar::-webkit-scrollbar-track {
                      background: rgba(255, 255, 255, 0.05);
                  }

                  .sidebar::-webkit-scrollbar-thumb {
                      background: rgba(0, 153, 255, 0.5);
                      border-radius: 10px;
                  }

                  .sidebar-header {
                      padding: 2rem 1.5rem;
                      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
                  }

                  .admin-logo {
                      display: flex;
                      align-items: center;
                      gap: 0.75rem;
                      margin-bottom: 0.5rem;
                  }

                  .admin-logo-icon {
                      width: 40px;
                      height: 40px;
                      background: linear-gradient(135deg, #0099ff, #0561e2);
                      border-radius: 10px;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      box-shadow: 0 4px 15px rgba(0, 153, 255, 0.3);
                  }

                  .admin-logo-icon svg {
                      width: 24px;
                      height: 24px;
                  }

                  .admin-logo-text h1 {
                      font-size: 1.25rem;
                      font-weight: 700;
                      color: #fff;
                  }

                  .admin-logo-text p {
                      font-size: 0.75rem;
                      color: #777e90;
                      font-weight: 500;
                      letter-spacing: 0.5px;
                  }

                  /* Navigation Menu */
                  .nav-menu {
                      padding: 1.5rem 0;
                  }

                  .nav-section {
                      margin-bottom: 2rem;
                  }

                  .nav-section-title {
                      font-size: 0.75rem;
                      font-weight: 600;
                      color: #777e90;
                      text-transform: uppercase;
                      letter-spacing: 1px;
                      padding: 0 1.5rem;
                      margin-bottom: 0.75rem;
                  }

                  .nav-item {
                      margin: 0.25rem 1rem;
                  }

                  .nav-link {
                      display: flex;
                      align-items: center;
                      gap: 0.75rem;
                      padding: 0.875rem 1rem;
                      color: #b1b0b6;
                      text-decoration: none;
                      border-radius: 12px;
                      transition: all 0.3s ease;
                      position: relative;
                      font-size: 0.95rem;
                      font-weight: 500;
                  }

                  .nav-link svg {
                      width: 20px;
                      height: 20px;
                      flex-shrink: 0;
                  }

                  .nav-link:hover {
                      background: rgba(0, 153, 255, 0.1);
                      color: #0099ff;
                  }

                  .nav-link.active {
                      background: linear-gradient(135deg, rgba(0, 153, 255, 0.2), rgba(5, 97, 226, 0.1));
                      color: #0099ff;
                      box-shadow: 0 4px 15px rgba(0, 153, 255, 0.1);
                  }

                  .nav-link.active::before {
                      content: "";
                      position: absolute;
                      left: 0;
                      top: 50%;
                      transform: translateY(-50%);
                      width: 3px;
                      height: 60%;
                      background: linear-gradient(180deg, #0099ff, #0561e2);
                      border-radius: 0 3px 3px 0;
                  }

                  .badge {
                      margin-left: auto;
                      padding: 0.25rem 0.625rem;
                      background: rgba(239, 68, 68, 0.2);
                      border: 1px solid rgba(239, 68, 68, 0.3);
                      border-radius: 20px;
                      font-size: 0.75rem;
                      font-weight: 600;
                      color: #fca5a5;
                  }

                  /* Logout Button */
                  .sidebar-footer {
                      padding: 1.5rem;
                      border-top: 1px solid rgba(255, 255, 255, 0.08);
                      margin-top: auto;
                  }

                  .logout-btn {
                      display: flex;
                      align-items: center;
                      gap: 0.75rem;
                      width: 100%;
                      padding: 0.875rem 1rem;
                      background: rgba(239, 68, 68, 0.15);
                      border: 1px solid rgba(239, 68, 68, 0.3);
                      border-radius: 12px;
                      color: #fca5a5;
                      text-decoration: none;
                      font-size: 0.95rem;
                      font-weight: 500;
                      transition: all 0.3s ease;
                      cursor: pointer;
                  }

                  .logout-btn:hover {
                      background: rgba(239, 68, 68, 0.25);
                      transform: translateY(-2px);
                  }

                  .logout-btn svg {
                      width: 20px;
                      height: 20px;
                  }

                  /* ============================================
                     MAIN CONTENT AREA
                     ============================================ */
                  .main-content {
                      margin-left: 280px;
                      min-height: 100vh;
                      background: #0a0a0b;
                  }

                  /* Top Header */
                  .top-header {
                      position: sticky;
                      top: 0;
                      background: rgba(18, 19, 22, 0.95);
                      backdrop-filter: blur(20px);
                      border-bottom: 1px solid rgba(255, 255, 255, 0.08);
                      padding: 1.25rem 2rem;
                      z-index: 100;
                      display: flex;
                      justify-content: space-between;
                      align-items: center;
                  }

                  .header-left {
                      display: flex;
                      align-items: center;
                      gap: 1rem;
                  }

                  .mobile-menu-btn {
                      display: none;
                      background: rgba(255, 255, 255, 0.05);
                      border: 1px solid rgba(255, 255, 255, 0.1);
                      border-radius: 10px;
                      padding: 0.625rem;
                      color: #fff;
                      cursor: pointer;
                      transition: all 0.3s ease;
                  }

                  .mobile-menu-btn:hover {
                      background: rgba(0, 153, 255, 0.1);
                      border-color: rgba(0, 153, 255, 0.3);
                  }

                  .mobile-menu-btn svg {
                      width: 24px;
                      height: 24px;
                  }

                  .page-title h2 {
                      font-size: 1.5rem;
                      font-weight: 700;
                      color: #fff;
                      margin-bottom: 0.25rem;
                  }

                  .page-title p {
                      font-size: 0.875rem;
                      color: #777e90;
                  }

                  .header-right {
                      display: flex;
                      align-items: center;
                      gap: 1rem;
                  }

                  .header-btn {
                      display: flex;
                      align-items: center;
                      gap: 0.5rem;
                      padding: 0.625rem 1.25rem;
                      background: rgba(255, 255, 255, 0.05);
                      border: 1px solid rgba(255, 255, 255, 0.1);
                      border-radius: 10px;
                      color: #b1b0b6;
                      text-decoration: none;
                      font-size: 0.875rem;
                      font-weight: 500;
                      transition: all 0.3s ease;
                  }

                  .header-btn:hover {
                      background: rgba(0, 153, 255, 0.1);
                      border-color: rgba(0, 153, 255, 0.3);
                      color: #0099ff;
                  }

                  .header-btn svg {
                      width: 18px;
                      height: 18px;
                  }

                  .user-profile {
                      display: flex;
                      align-items: center;
                      gap: 0.75rem;
                      padding: 0.5rem 1rem;
                      background: rgba(255, 255, 255, 0.05);
                      border: 1px solid rgba(255, 255, 255, 0.1);
                      border-radius: 12px;
                      cursor: pointer;
                      transition: all 0.3s ease;
                  }

                  .user-profile:hover {
                      background: rgba(255, 255, 255, 0.08);
                  }

                  .user-avatar {
                      width: 36px;
                      height: 36px;
                      border-radius: 50%;
                      display: flex;
                      align-items: center;
                      justify-content: center;
                      font-weight: 600;
                      font-size: 0.875rem;
                  }

                  .user-info {
                      display: flex;
                      flex-direction: column;
                  }

                  .user-name {
                      font-size: 0.875rem;
                      font-weight: 600;
                      color: #fff;
                  }

                  .user-role {
                      font-size: 0.75rem;
                      color: #777e90;
                  }

                  /* ============================================
                     CONTENT AREA
                     ============================================ */
                  .content {
                      padding: 2rem;
                  }

                  /* Flash Messages */
                  .flash-messages {
                      margin-bottom: 2rem;
                  }

                  .alert {
                      padding: 1rem 1.5rem;
                      border-radius: 12px;
                      margin-bottom: 1rem;
                      display: flex;
                      align-items: center;
                      gap: 1rem;
                      animation: slideIn 0.3s ease;
                      border: 1px solid;
                  }

                  .alert-success {
                      background: rgba(34, 197, 94, 0.15);
                      border-color: rgba(34, 197, 94, 0.3);
                      color: #86efac;
                  }

                  .alert-error {
                      background: rgba(239, 68, 68, 0.15);
                      border-color: rgba(239, 68, 68, 0.3);
                      color: #fca5a5;
                  }

                  .alert-info {
                      background: rgba(0, 153, 255, 0.15);
                      border-color: rgba(0, 153, 255, 0.3);
                      color: #7dd3fc;
                  }

                  @keyframes slideIn {
                      from {
                          opacity: 0;
                          transform: translateY(-20px);
                      }
                      to {
                          opacity: 1;
                          transform: translateY(0);
                      }
                  }

                  /* ============================================
                     MOBILE RESPONSIVE
                     ============================================ */
                  @media (max-width: 1024px) {
                      .sidebar {
                          transform: translateX(-100%);
                      }

                      .sidebar.active {
                          transform: translateX(0);
                      }

                      .main-content {
                          margin-left: 0;
                      }

                      .mobile-menu-btn {
                          display: block;
                      }
                  }

                  @media (max-width: 768px) {
                      .top-header {
                          padding: 1rem 1.5rem;
                      }

                      .page-title h2 {
                          font-size: 1.25rem;
                      }

                      .user-info {
                          display: none;
                      }

                      .content {
                          padding: 1.5rem;
                      }

                      .header-btn span {
                          display: none;
                      }
                  }

                  @media (max-width: 480px) {
                      .content {
                          padding: 1rem;
                      }

                      .header-right {
                          gap: 0.5rem;
                      }
                  }

                  /* Overlay for mobile */
                  .sidebar-overlay {
                      display: none;
                      position: fixed;
                      top: 0;
                      left: 0;
                      width: 100%;
                      height: 100%;
                      background: rgba(0, 0, 0, 0.7);
                      backdrop-filter: blur(4px);
                      z-index: 999;
                  }

                  .sidebar-overlay.active {
                      display: block;
                  }
            .user-profile {
              display: flex;
              align-items: center;
              gap: 1rem;
              padding: 1rem;
              background: rgba(255, 255, 255, 0.05);
              border-radius: 12px;
              margin-bottom: 2rem;
            }

            .user-avatar {
              width: 48px;
              height: 48px;
              border-radius: 50%;
              object-fit: cover;
            }

            .user-avatar-placeholder,
            .avatar-placeholder {
              width: 48px;
              height: 48px;
              border-radius: 50%;
              background: linear-gradient(135deg, #0099ff, #0561e2);
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-weight: 600;
              font-size: 1.25rem;
            }

            .user-info {
              flex: 1;
            }

            .user-name {
              font-weight: 600;
              color: #fff;
              font-size: 0.95rem;
            }

            .user-role {
              font-size: 0.8125rem;
              color: #777e90;
              margin-top: 0.125rem;
            }
                  {% block extra_styles %}{% endblock %}
    </style>
  </head>
  <body>
    <!-- Sidebar Overlay (Mobile) -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <div class="admin-logo">
          <div class="admin-logo-icon">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
              <path d="M2 17l10 5 10-5M2 12l10 5 10-5"></path>
            </svg>
          </div>
          <div class="admin-logo-text">
            <h1>SHARMIC</h1>
            <p>ADMIN PANEL</p>
          </div>
        </div>
      </div>

      <nav class="nav-menu">
        <div class="nav-section">
          <div class="nav-section-title">Main</div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_dashboard') }}"
              class="nav-link {% if request.endpoint == 'admin_dashboard' %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="3" y="3" width="7" height="7"></rect>
                <rect x="14" y="3" width="7" height="7"></rect>
                <rect x="14" y="14" width="7" height="7"></rect>
                <rect x="3" y="14" width="7" height="7"></rect>
              </svg>
              Dashboard
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_settings') }}"
              class="nav-link {% if request.endpoint == 'admin_settings' %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <circle cx="12" cy="12" r="3"></circle>
                <path
                  d="M12 1v6m0 6v6m5.196-13.196l-4.242 4.242m-6.364 0L2.804 5.804M23 12h-6m-6 0H1m18.196 7.196l-4.242-4.242m-6.364 0l-4.242 4.242"
                ></path>
              </svg>
              Settings
            </a>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Homepage</div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_hero_sections') }}"
              class="nav-link {% if 'hero' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="3" y="3" width="18" height="18" rx="2"></rect>
                <line x1="3" y1="9" x2="21" y2="9"></line>
              </svg>
              Hero Sections
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_stats') }}"
              class="nav-link {% if 'stat' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="12" y1="20" x2="12" y2="10"></line>
                <line x1="18" y1="20" x2="18" y2="4"></line>
                <line x1="6" y1="20" x2="6" y2="16"></line>
              </svg>
              Statistics
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_features') }}"
              class="nav-link {% if 'feature' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polygon
                  points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"
                ></polygon>
              </svg>
              Features
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_testimonials') }}"
              class="nav-link {% if 'testimonial' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"
                ></path>
              </svg>
              Testimonials
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_partners') }}"
              class="nav-link {% if 'partner' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path
                  d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"
                ></path>
              </svg>
              Partners
            </a>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">About Page</div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_hubs') }}"
              class="nav-link {% if 'hub' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                <circle cx="12" cy="10" r="3"></circle>
              </svg>
              Global Hubs
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_investors') }}"
              class="nav-link {% if 'investor' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="12" y1="1" x2="12" y2="23"></line>
                <path
                  d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"
                ></path>
              </svg>
              Investors
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_formula') }}"
              class="nav-link {% if 'formula' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
              </svg>
              Formula Items
            </a>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Content</div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_pages') }}"
              class="nav-link {% if 'page' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
                ></path>
                <polyline points="14 2 14 8 20 8"></polyline>
              </svg>
              Pages
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_employees') }}"
              class="nav-link {% if 'employee' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                <circle cx="9" cy="7" r="4"></circle>
                <path
                  d="M23 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75"
                ></path>
              </svg>
              Team
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_careers') }}"
              class="nav-link {% if 'career' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
              </svg>
              Careers
            </a>
          </div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_footer_links') }}"
              class="nav-link {% if 'footer' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="8" y1="6" x2="21" y2="6"></line>
                <line x1="8" y1="12" x2="21" y2="12"></line>
                <line x1="8" y1="18" x2="21" y2="18"></line>
                <line x1="3" y1="6" x2="3.01" y2="6"></line>
                <line x1="3" y1="12" x2="3.01" y2="12"></line>
                <line x1="3" y1="18" x2="3.01" y2="18"></line>
              </svg>
              Footer Links
            </a>
          </div>
        </div>

        <div class="nav-section">
          <div class="nav-section-title">Communications</div>
          <div class="nav-item">
            <a
              href="{{ url_for('admin_contacts') }}"
              class="nav-link {% if 'contact' in request.endpoint %}active{% endif %}"
            >
              <svg
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <path
                  d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"
                ></path>
                <polyline points="22,6 12,13 2,6"></polyline>
              </svg>
              Contact Forms {% if unread_contacts > 0 %}
              <span class="badge">{{ unread_contacts }}</span>
              {% endif %}
            </a>
          </div>
        </div>
      </nav>

      <div class="sidebar-footer">
        <form
          method="POST"
          action="{{ url_for('admin_logout') }}"
          style="width: 100%"
        >
          <button type="submit" class="logout-btn" style="border: none">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
              <polyline points="16 17 21 12 16 7"></polyline>
              <line x1="21" y1="12" x2="9" y2="12"></line>
            </svg>
            Logout
          </button>
        </form>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Top Header -->
      <header class="top-header">
        <div class="header-left">
          <button class="mobile-menu-btn" id="mobileMenuBtn">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <div class="page-title">
            <h2>{% block page_title %}Admin Panel{% endblock %}</h2>
            <p>{% block page_subtitle %}Manage your website{% endblock %}</p>
          </div>
        </div>
        <div class="header-right">
          <a href="{{ url_for('index') }}" class="header-btn" target="_blank">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path
                d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"
              ></path>
              <polyline points="15 3 21 3 21 9"></polyline>
              <line x1="10" y1="14" x2="21" y2="3"></line>
            </svg>
            <span>View Site</span>
          </a>
          <div class="user-profile">
            <div class="user-avatar">
              {% if site_settings.logo_path %}
              <img
                src="{{ url_for('static', filename=site_settings.logo_path) }}"
                alt="{{ site_settings.site_name }}"
                style="
                  width: 40px;
                  height: 40px;
                  object-fit: contain;
                  border-radius: 8px;
                "
              />
              {% else %}
              <div class="avatar-placeholder">S</div>
              {% endif %}
            </div>
            <div class="user-info">
              <div class="user-name">{{ site_settings.site_name }}</div>
              <div class="user-role">Administrator</div>
            </div>
          </div>
        </div>
      </header>

      <!-- Content Area -->
      <div class="content">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %} {% if
        messages %}
        <div class="flash-messages">
          {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
          {% endfor %}
        </div>
        {% endif %} {% endwith %}

        <!-- Page Content -->
        {% block content %}{% endblock %}
      </div>
    </main>

    <script>
      // Mobile Menu Toggle
      const mobileMenuBtn = document.getElementById("mobileMenuBtn");
      const sidebar = document.getElementById("sidebar");
      const sidebarOverlay = document.getElementById("sidebarOverlay");

      function toggleSidebar() {
        sidebar.classList.toggle("active");
        sidebarOverlay.classList.toggle("active");
        document.body.style.overflow = sidebar.classList.contains("active")
          ? "hidden"
          : "auto";
      }

      mobileMenuBtn.addEventListener("click", toggleSidebar);
      sidebarOverlay.addEventListener("click", toggleSidebar);

      // Close sidebar when clicking on a link (mobile)
      document.querySelectorAll(".nav-link").forEach((link) => {
        link.addEventListener("click", function () {
          if (window.innerWidth <= 1024) {
            toggleSidebar();
          }
        });
      });

      // Handle window resize
      window.addEventListener("resize", function () {
        if (window.innerWidth > 1024) {
          sidebar.classList.remove("active");
          sidebarOverlay.classList.remove("active");
          document.body.style.overflow = "auto";
        }
      });

      // Add active state to current page nav
      const currentPath = window.location.pathname;
      document.querySelectorAll(".nav-link").forEach((link) => {
        if (link.getAttribute("href") === currentPath) {
          link.classList.add("active");
        }
      });

      // Auto-close alerts after 5 seconds
      document.querySelectorAll(".alert").forEach((alert) => {
        setTimeout(() => {
          alert.style.opacity = "0";
          alert.style.transition = "opacity 0.3s ease";
          setTimeout(() => {
            alert.style.display = "none";
          }, 300);
        }, 5000);
      });
    </script>
    <script>
      (function () {
        "use strict";

        // Disable right-click context menu
        document.addEventListener(
          "contextmenu",
          function (e) {
            e.preventDefault();
            return false;
          },
          false
        );

        document.addEventListener(
          "keydown",
          function (e) {
            // F12
            if (e.keyCode === 123) {
              e.preventDefault();
              return false;
            }

            if (e.ctrlKey && e.shiftKey && e.keyCode === 73) {
              e.preventDefault();
              return false;
            }

            if (e.ctrlKey && e.shiftKey && e.keyCode === 74) {
              e.preventDefault();
              return false;
            }

            if (e.ctrlKey && e.shiftKey && e.keyCode === 67) {
              e.preventDefault();
              return false;
            }

            if (e.ctrlKey && e.keyCode === 85) {
              e.preventDefault();
              return false;
            }

            if (e.ctrlKey && e.keyCode === 83) {
              e.preventDefault();
              return false;
            }

             if (e.ctrlKey && e.keyCode === 65) {
                 e.preventDefault();
                 return false;
             }

             if (e.ctrlKey && e.keyCode === 67) {
                 e.preventDefault();
                 return false;
             }

            // Ctrl+P (Print)
            if (e.ctrlKey && e.keyCode === 80) {
              e.preventDefault();
              return false;
            }
          },
          false
        );

        var devtools = {
          open: false,
          orientation: null,
        };

        var threshold = 160;
        var emitEvent = function (state, orientation) {
          window.dispatchEvent(
            new CustomEvent("devtoolschange", {
              detail: {
                open: state,
                orientation: orientation,
              },
            })
          );
        };

        setInterval(function () {
          var widthThreshold =
            window.outerWidth - window.innerWidth > threshold;
          var heightThreshold =
            window.outerHeight - window.innerHeight > threshold;
          var orientation = widthThreshold ? "vertical" : "horizontal";

          if (
            !(heightThreshold && widthThreshold) &&
            ((window.Firebug &&
              window.Firebug.chrome &&
              window.Firebug.chrome.isInitialized) ||
              widthThreshold ||
              heightThreshold)
          ) {
            if (!devtools.open || devtools.orientation !== orientation) {
              emitEvent(true, orientation);
            }
            devtools.open = true;
            devtools.orientation = orientation;
          } else {
            if (devtools.open) {
              emitEvent(false, null);
            }
            devtools.open = false;
            devtools.orientation = null;
          }
        }, 500);

        window.addEventListener("devtoolschange", function (e) {
          if (e.detail.open) {
            // Uncomment to show alert
            alert('Developer tools detected! This action has been logged.');
            console.clear();
          }
        });

        document.addEventListener(
          "dragstart",
          function (e) {
            e.preventDefault();
            return false;
          },
          false
        );

        document.addEventListener(
          "drop",
          function (e) {
            e.preventDefault();
            return false;
          },
          false
        );

        setInterval(function () {
          console.clear();
        }, 2000);

        var noSelectElements = document.querySelectorAll(
          ".nav-link, .action-card, button, .btn"
        );
        noSelectElements.forEach(function (element) {
          element.style.userSelect = "none";
          element.style.webkitUserSelect = "none";
          element.style.mozUserSelect = "none";
          element.style.msUserSelect = "none";
        });

        // Prevent inspect element on images
        var images = document.getElementsByTagName("img");
        for (var i = 0; i < images.length; i++) {
          images[i].addEventListener("contextmenu", function (e) {
            e.preventDefault();
            return false;
          });
        }

        document.addEventListener(
          "keydown",
          function (e) {
            if (e.ctrlKey && e.shiftKey && e.keyCode === 75) {
              e.preventDefault();
              return false;
            }
          },
          false
        );

        if (window.top !== window.self) {
          window.top.location = window.self.location;
        }

         Prevent copy event - Optional
         document.addEventListener('copy', function(e) {
             e.preventDefault();
             return false;
         }, false);

         Prevent cut event - Optional
         document.addEventListener('cut', function(e) {
             e.preventDefault();
             return false;
         }, false);

         Prevent paste event - Optional
         document.addEventListener('paste', function(e) {
             e.preventDefault();
             return false;
         }, false);

        console.log(
          "%câš ï¸ STOP!",
          "color: #f87171; font-size: 50px; font-weight: bold;"
        );
        console.log(
          "%cThis is a browser feature intended for developers. If someone told you to copy-paste something here, it is a scam and will give them access to your account.",
          "color: #fb923c; font-size: 16px;"
        );
        console.log(
          "%cðŸ”’ SHARMIC Admin Panel - Unauthorized access is prohibited",
          "color: #0099ff; font-size: 14px; font-weight: bold;"
        );
      })();

      window.addEventListener("beforeprint", function (e) {
        e.preventDefault();
        alert("Printing is disabled for security reasons.");
        return false;
      });

      document.addEventListener("keyup", function (e) {
        // Print Screen key
        if (e.keyCode === 44) {
          document.body.style.display = "none";
          setTimeout(function () {
            document.body.style.display = "block";
          }, 100);
        }
      });

      (function () {
        var element = new Image();
        Object.defineProperty(element, "id", {
          get: function () {
            // Developer tools opened
            console.clear();
            return "devtools";
          },
        });
        console.log(element);
      })();
    </script>
    {% block extra_scripts %}{% endblock %}
  </body>
</html>
