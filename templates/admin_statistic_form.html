{% extends "admin_base.html" %} {% block page_title %}{% if statistic %}Edit
Statistic{% else %}New Statistic{% endif %}{% endblock %} {% block page_subtitle
%}{% if statistic %}Update statistic information{% else %}Add a new statistic to
the testimonials page{% endif %}{% endblock %} {% block extra_css %}
<style>
  .form-container {
    max-width: 800px;
  }

  .form-group {
    margin-bottom: 25px;
  }

  .form-group label {
    display: block;
    color: var(--purple-light);
    font-weight: 600;
    margin-bottom: 10px;
    font-size: 1rem;
  }

  .form-control {
    width: 100%;
    padding: 12px 20px;
    background: var(--dark-accent);
    border: 2px solid rgba(108, 92, 231, 0.3);
    border-radius: 10px;
    color: var(--text-light);
    font-size: 1rem;
    transition: all 0.3s ease;
  }

  .form-control:focus {
    outline: none;
    border-color: var(--purple-primary);
    background: var(--dark-secondary);
  }

  .form-control::placeholder {
    color: var(--text-muted);
  }

  textarea.form-control {
    min-height: 120px;
    resize: vertical;
  }

  .form-help {
    display: block;
    margin-top: 8px;
    color: var(--text-muted);
    font-size: 0.9rem;
  }

  .icon-preview {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-top: 10px;
    padding: 15px;
    background: var(--dark-secondary);
    border-radius: 10px;
  }

  .icon-preview i {
    font-size: 3rem;
    color: var(--secondary);
  }

  .icon-preview span {
    color: var(--text-light);
    font-weight: 600;
  }

  .form-actions {
    display: flex;
    gap: 15px;
    margin-top: 30px;
    flex-wrap: wrap;
  }

  .btn-submit {
    padding: 12px 30px;
    background: linear-gradient(135deg, var(--success) 0%, #00b894 100%);
    border: none;
    color: white;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .btn-submit:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 20px rgba(0, 210, 211, 0.4);
  }

  .btn-cancel {
    padding: 12px 30px;
    background: var(--dark-accent);
    border: 2px solid rgba(108, 92, 231, 0.3);
    color: var(--text-light);
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    text-decoration: none;
    display: inline-block;
  }

  .btn-cancel:hover {
    border-color: var(--purple-primary);
    color: var(--purple-light);
  }

  .icon-suggestions {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
    gap: 10px;
    margin-top: 15px;
  }

  .icon-suggestion {
    padding: 15px;
    background: var(--dark-secondary);
    border: 2px solid transparent;
    border-radius: 10px;
    text-align: center;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .icon-suggestion:hover {
    border-color: var(--purple-primary);
    background: var(--dark-accent);
  }

  .icon-suggestion i {
    font-size: 2rem;
    color: var(--purple-light);
    display: block;
    margin-bottom: 5px;
  }

  .icon-suggestion span {
    color: var(--text-muted);
    font-size: 0.8rem;
  }
</style>
{% endblock %} {% block content %}
<div class="content-card">
  <div class="form-container">
    <form method="POST">
      <div class="form-group">
        <label for="value">Statistic Value *</label>
        <input
          type="text"
          id="value"
          name="value"
          class="form-control"
          placeholder="e.g., 50K+, 40%, â‚¹2.5Cr"
          value="{{ statistic.value if statistic else '' }}"
          required
        />
        <small class="form-help"
          >Enter the statistic value (can include symbols, numbers, and
          text)</small
        >
      </div>

      <div class="form-group">
        <label for="label">Statistic Label *</label>
        <input
          type="text"
          id="label"
          name="label"
          class="form-control"
          placeholder="e.g., Farmers Empowered, Average Yield Increase"
          value="{{ statistic.label if statistic else '' }}"
          required
        />
        <small class="form-help">Descriptive label for the statistic</small>
      </div>

      <div class="form-group">
        <label for="icon">Icon Class *</label>
        <input
          type="text"
          id="icon"
          name="icon"
          class="form-control"
          placeholder="e.g., fas fa-users"
          value="{{ statistic.icon if statistic else '' }}"
          required
          oninput="updateIconPreview()"
        />
        <small class="form-help"
          >FontAwesome icon class (e.g., fas fa-users, fas fa-chart-line)</small
        >

        <div class="icon-preview" id="iconPreview" style="display: none">
          <i id="previewIcon"></i>
          <span>Icon Preview</span>
        </div>

        <div class="icon-suggestions">
          <div class="icon-suggestion" onclick="selectIcon('fas fa-users')">
            <i class="fas fa-users"></i>
            <span>Users</span>
          </div>
          <div
            class="icon-suggestion"
            onclick="selectIcon('fas fa-chart-line')"
          >
            <i class="fas fa-chart-line"></i>
            <span>Growth</span>
          </div>
          <div
            class="icon-suggestion"
            onclick="selectIcon('fas fa-rupee-sign')"
          >
            <i class="fas fa-rupee-sign"></i>
            <span>Money</span>
          </div>
          <div class="icon-suggestion" onclick="selectIcon('fas fa-smile')">
            <i class="fas fa-smile"></i>
            <span>Happy</span>
          </div>
          <div class="icon-suggestion" onclick="selectIcon('fas fa-seedling')">
            <i class="fas fa-seedling"></i>
            <span>Growth</span>
          </div>
          <div class="icon-suggestion" onclick="selectIcon('fas fa-trophy')">
            <i class="fas fa-trophy"></i>
            <span>Success</span>
          </div>
          <div class="icon-suggestion" onclick="selectIcon('fas fa-heart')">
            <i class="fas fa-heart"></i>
            <span>Love</span>
          </div>
          <div class="icon-suggestion" onclick="selectIcon('fas fa-star')">
            <i class="fas fa-star"></i>
            <span>Star</span>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="order">Display Order *</label>
        <input
          type="number"
          id="order"
          name="order"
          class="form-control"
          min="1"
          value="{{ statistic.order if statistic else 1 }}"
          required
        />
        <small class="form-help">Lower numbers appear first (1, 2, 3...)</small>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn-submit">
          <i class="fas fa-save"></i> {% if statistic %}Update{% else %}Create{%
          endif %} Statistic
        </button>
        <a href="{{ url_for('admin_testimonials') }}" class="btn-cancel">
          <i class="fas fa-times"></i> Cancel
        </a>
      </div>
    </form>
  </div>
</div>
{% endblock %} {% block extra_js %}
<script>
  function updateIconPreview() {
    const iconInput = document.getElementById('icon');
    const preview = document.getElementById('iconPreview');
    const previewIcon = document.getElementById('previewIcon');

    if (iconInput.value.trim()) {
      previewIcon.className = iconInput.value;
      preview.style.display = 'flex';
    } else {
      preview.style.display = 'none';
    }
  }

  function selectIcon(iconClass) {
    document.getElementById('icon').value = iconClass;
    updateIconPreview();
  }

  // Initialize preview if editing
  {% if statistic %}
  updateIconPreview();
  {% endif %}
</script>
{% endblock %}
